<%= @team_roster.name %>

<div>
	<% @team_roster.rosters.includes(:user).each do |player| %>
	<div>
		<span><h2><%= link_to player.user.full_name, user_path(player.user.id) %></h2> <% if player.captain? %> * <% end %></span>
		<% if user_signed_in? && current_user.is_captain?(@team) %>
			<span><%= link_to "delete", player, method: :delete, data: { confirm: "Are you sure?" } %></span>
		<% end %>
	</div>
	<% end %>
</div>


<% if user_signed_in? && current_user.is_captain?(@team) %>
	<%= button_to "Copy", { action: "copy", team_id: @team.id, id: @team_roster.id }, data: { disable_with: 'Copying...' } %>

	<h1>Add players</h1>
	<p>Enter a single email, or a comma-separated list of emails</p>

	<%= form_for @roster_invite, :url => roster_invites_path do |f| %>
		<%= f.hidden_field :team_roster_id, value: params[:id] %>
		<%= f.hidden_field :team_id, value: params[:team_id] %>

		<div><%= f.label :email %>
		<%= f.text_area :email, :placeholder => 'Enter emails' %></div>

		<%= f.check_box :captain %><%= f.label :captain %>

		<%= f.submit 'Add player' %>
	<% end %>
<% end %>
